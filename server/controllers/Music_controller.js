let id = 0;
let music = [
    {
        artist: 'Noisecontrollers',
        songName: 'Bad Habits',
        genre: 'Electronic',
        songLength:'3:33' ,
        subGenre: 'Hardstyle',
        year: '2017',
        img: 'http://www.lololyrics.com/img/cover/34722.jpeg',
        id: id++
    
    },
    {
        artist: 'Sound Rush',
        songName: 'Gods',
        genre: 'Electronic',
        songLength:'4:25' ,
        subGenre: 'Hardstyle',
        year: '2017',
        img:'http://hardrecordz.com/wp-content/uploads/2017/02/00_sound_rush_and_airtunes_-_gods-hws052-web-2017-610x610.jpg',
        id: id++

    
    },
    {
        artist: 'Tune Up!',
        songName: 'Forever Young',
        genre: 'Electronic',
        songLength:'4:11' ,
        subGenre: 'Techno Trance',
        year: '2011',
        img:'http://www.alphaville.nu/disco/cov_vers/images/400px/tuneup_foreveryoung.jpg',
        id: id++
        
    
    },
    {
        artist: 'Dutch Force',
        songName: 'Deadline',
        genre: 'Electronic',
        songLength:'7:34' ,
        subGenre: 'Techno Trance',
        year: '2009',
        img:'http://techno.s17.xrea.com/p/dutch-force_deadline.jpg',
        id: id++
        
    
    },
    {
        artist: 'Larsen',
        songName: 'Severe',
        genre: 'Electronic',
        songLength:'4:00' ,
        subGenre: 'Dubstep',
        year: '2018',
        img:'https://i.scdn.co/image/8f3890f7c2966102e9a8c129d59e4b3ebb7e9da8',
        id: id++
        
    
    },
    {
        artist: 'deadmau5',
        songName: 'Some Chords',
        genre: 'Electronic',
        songLength:'7:32' ,
        subGenre: 'Dubstep',
        year: '2010',
        img:'https://i1.sndcdn.com/artworks-000105421826-uwf4wb-t500x500.jpg',
        id: id++
        
    
    },
    {
        artist: 'Darude',
        songName: 'Sandstorm',
        genre: 'Electronic',
        songLength:'3:52' ,
        subGenre: 'Trance',
        year: '2000',
        img:'https://ukf-cdn-2ezlhsfwy1f.stackpathdns.com/wp-content/uploads/2014/08/darude-sandstorm.jpg',
        id: id++
        
    
    },
    {
        artist: 'Tiesto',
        songName: 'Adagio For Strings',
        genre: 'Electronic',
        songLength:'7:23' ,
        subGenre: 'Trance',
        year: '2008',
        img:'https://i1.sndcdn.com/artworks-000224976259-125izd-t500x500.jpg',
        id: id++
        
    
    },
    {
        artist: "Gigi d'agostino'",
        songName: "I'll fly with you",
        genre: 'Electronic',
        songLength:'8:11' ,
        subGenre: 'Club Mix',
        year: '2015',
        img:'https://img.discogs.com/Iu9808VA_Ey7S7PyyZtGUF6xz38=/fit-in/585x581/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-168553-1483177185-5046.png.jpg',
        id: id++
        
    
    },
    {
        artist: 'Rita Ora',
        songName: 'Anywhere',
        genre: 'Electronic',
        songLength:'3:42' ,
        subGenre: 'Club Mix',
        year: '2010',
        img:'http://coverlandia.net/sites/default/files/styles/music_artwork_page/public/artworks/music/371031510628329.png?itok=kWGn8sNd',
        id: id++
        
    
    },
    {
        artist: 'R3HAB',
        songName: 'Lullaby',
        genre: 'Electronic',
        songLength:'2:44' ,
        subGenre: 'Pop EDM',
        year: '2018',
        img:'https://songtexte.co/Images/Songs/r3hab-lullaby-songtext-lyrics-fad4f8.jpg',
        id: id++
        
    
    },
    {
        artist: 'Wildstyles',
        songName: 'Back 2 Basics',
        genre: 'Electronic',
        songLength:'4:17' ,
        subGenre: 'Hardstyle',
        year: '2011',
        img:'http://www.lololyrics.com/img/cover/14189.jpeg',
        id: id++
        
    
    },
    {
        artist: 'Blutonium Boy (Headhunterz Remix)',
        songName: 'Make it Loud',
        genre: 'Electronic',
        songLength:'5:25' ,
        subGenre: 'Hardstyle',
        year: '2011',
        img:'https://img.discogs.com/VQDT0QnF3uaLN7y91APaakCVjik=/fit-in/600x600/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-2747793-1299245101.jpeg.jpg',
        id: id++
        
    
    },
    {
        artist: 'Crew Cardinal',
        songName: 'Teardrops',
        genre: 'Electronic',
        songLength:'5:45' ,
        subGenre: 'Upbeat Techno',
        year: '2010',
        img:'https://i1.sndcdn.com/avatars-000097262757-d6tnxn-t500x500.jpg',
        id: id++
        
    
    },
    {
        artist: 'Haddaway',
        songName: 'What is Love?',
        genre: 'Electronic',
        songLength:'4:29' ,
        subGenre: 'Oldschool House',
        year: '1993',
        img:'https://img.discogs.com/xuFX_IhWV_y5wS069UM2OqiWcPc=/fit-in/600x600/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-149375-1405132132-2785.jpeg.jpg',
        id: id++
        
    
    },
    {
        artist: 'Flux Pavilion',
        songName: 'Feel Your Love',
        genre: 'Electronic',
        songLength:'3:45' ,
        subGenre: 'Dubstep',
        year: '2016',
        img:'https://i1.sndcdn.com/artworks-000174988625-tp5lu1-t500x500.jpg',
        id: id++
        
    
    },
    {
        artist: 'Skrillex',
        songName: 'Bangarang',
        genre: 'Electronic',
        songLength:'3:38' ,
        subGenre: 'Dubstep',
        year: '2012',
        img:'https://img.discogs.com/hcQNdqzI-H-YDhsk0kiazc-CIn0=/fit-in/600x600/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-3299789-1326211487.jpeg.jpg',
        id: id++
        
    
    },
    {
        artist: 'Calvin Harris',
        songName: 'This is what you came for',
        genre: 'Electronic',
        songLength:'3:59' ,
        subGenre: 'Pop EDM',
        year: '2016',
        img:'https://is5-ssl.mzstatic.com/image/thumb/Music60/v4/36/28/5a/36285aca-a659-aab6-a1f8-8d4b4485aa98/886445857290.jpg/600x600bf.jpg',
        id: id++
        
    
    },
    {
        artist: 'Flume ',
        songName: 'Never be like you',
        genre: 'Electronic',
        songLength:'3:52' ,
        subGenre: 'Pop EDM',
        year: '2016',
        img:'https://i1.sndcdn.com/artworks-000153878275-2b9rd4-t500x500.jpg',
        id: id++
        
    
    },
    {
        artist: 'Major Laser & DJ Snake',
        songName: 'Lean on',
        genre: 'Electronic',
        songLength:'2:58' ,
        subGenre: 'Pop EDM',
        year: '2015',
        img:'https://i1.sndcdn.com/artworks-000110993138-kfxe87-t500x500.jpg',
        id: id++
        
    
    },
    {
        artist: 'Calvin Harris & Disciples',
        songName: 'How deep is your love?',
        genre: 'Electronic',
        songLength:'4:20' ,
        subGenre: 'Pop EDM',
        year: '2015',
        img:'https://i1.sndcdn.com/artworks-000133143659-5pkmzm-t500x500.jpg',
        id: id++
        
    
    },
    
];

module.exports  = {

 read: (req,res) => {
     res.status(200).send(music);
 },

 create: (req,res) => {
     const {artist,songName,genre,songLength,subGenre,year,img} = req.body;
     let newMusic = {
        artist: artist,
        songName: songName,
        genre: genre,
        songLength: songLength,
        subGenre: subGenre,
        year: year,
        img: img,
        id: id++
     }
     music.push(newMusic);
     id = id++;
     res.status(200).send(newMusic);
 },

 update: (req,res)=>{
     console.log(req.body)
     const {artist,songName,songLength,genre,subGenre,year,img} = req.body;
     let index = null;
     music.forEach((song,i)=>{
         if(song.id===Number(req.params.id))index =i;
     })
     music[index] = {
        artist: req.body.artist || music[index].artist,
        songName: req.body.songName || music[index].songName,
        genre: req.body.genre || music[index].genre,
        songLength: req.body.songLength || music[index].songLength,
        subGenre: req.body.subGenre || music[index].subGenre,
        year: req.body.year || music[index].year,
        img: req.body.img || music[index].img,
        id:music[index].id
     };
     res.status(200).send(music[index]);
 },

 delete: (req,res) => {
     console.log(req.params)
     let index = music.filter(e => {
         if(e.id == req.params.id){
             return true;
         }
     })

     music.splice(index.id,1)
     console.log(music)
     res.status(200).send(music)
 }
};
